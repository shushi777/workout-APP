# ========================================
# Flask Configuration
# ========================================
# CRITICAL: Change SECRET_KEY to a secure random string in production!
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-here

# Environment: 'development', 'production', or 'test'
FLASK_ENV=production

# Debug mode (MUST be False in production)
FLASK_DEBUG=False

# Server Configuration
HOST=0.0.0.0
PORT=5000

# ========================================
# Database Configuration
# ========================================
# Railway automatically provides DATABASE_URL environment variable
# You can use it directly or set individual variables:
# Railway format: postgresql://user:password@host:port/database
#
# For local development:
DB_HOST=localhost
DB_PORT=5432
DB_NAME=workout_db
DB_USER=postgres
DB_PASSWORD=your-password-here
#
# For Railway production (auto-provided):
# Railway sets DATABASE_URL automatically - no need to configure
# Example: DATABASE_URL=postgresql://postgres:password@containers-us-west-123.railway.app:5432/railway

# File Upload Configuration
UPLOAD_FOLDER=uploads
OUTPUT_FOLDER=output

# Video Processing Configuration
SCENE_DETECTION_THRESHOLD=27.0
MIN_SCENE_LENGTH=0.6

# FFmpeg Configuration
FFMPEG_PATH=ffmpeg
THUMBNAIL_WIDTH=320
THUMBNAIL_HEIGHT=180
VIDEO_CODEC=libx264
VIDEO_PRESET=medium
VIDEO_CRF=23

# ========================================
# Storage Configuration
# ========================================
# Options: 'local', 's3', 'r2'
#
# RECOMMENDED FOR PRODUCTION: 'r2' (Cloudflare R2)
# - 100% FREE up to 10GB storage (~1,000-1,250 exercise videos)
# - Unlimited bandwidth (no data transfer costs)
# - Built-in CDN for fast global delivery
# - Internet accessible with HTTPS URLs
#
# For local development, use 'local'
# For Railway production, use 'r2'
STORAGE_BACKEND=r2

# Local Storage (default - for development)
LOCAL_STORAGE_PATH=output

# AWS S3 Configuration (if STORAGE_BACKEND=s3)
# Note: S3 has data transfer costs (~$4-8/month) - NOT recommended for free hosting
# S3_BUCKET_NAME=your-bucket-name
# S3_REGION=us-east-1
# S3_ACCESS_KEY=your-access-key
# S3_SECRET_KEY=your-secret-key
# S3_ENDPOINT_URL=  # Leave empty for standard AWS S3

# Cloudflare R2 Configuration (if STORAGE_BACKEND=r2)
# ✅ RECOMMENDED: 100% FREE Solution
# Free Tier: 10GB storage + unlimited bandwidth (no data transfer costs!)
# Equivalent to ~1,000-1,250 exercise videos
#
# Setup Instructions:
# 1. Sign up at cloudflare.com (no credit card required)
# 2. Dashboard → R2 Object Storage → Create bucket
#    - Bucket name: workout-app-videos (or your choice)
#    - Location: Automatic (chooses closest region)
# 3. Go to "Manage R2 API Tokens" → Create API Token
#    - Token name: workout-app-token
#    - Permissions: Object Read & Write
#    - Scope: Apply to specific buckets → Select your bucket
#    - Click "Create API Token"
# 4. Copy the credentials shown (you can only see them once!):
#    - Account ID
#    - Access Key ID
#    - Secret Access Key
# 5. Enable public access for your bucket:
#    - Go to your bucket → Settings → Public Access
#    - Click "Allow Access" → Choose "Custom Domain" or use R2.dev subdomain
#    - Copy the public URL (e.g., https://pub-xxxxx.r2.dev)
# 6. Paste the values below:
#
# R2_ACCOUNT_ID=your-cloudflare-account-id
# R2_BUCKET_NAME=workout-app-videos
# R2_ACCESS_KEY=your-r2-access-key-id
# R2_SECRET_KEY=your-r2-secret-access-key
# R2_PUBLIC_URL=https://pub-xxxxx.r2.dev
#
# Note: The R2_PUBLIC_URL is used to generate public URLs for videos
# If using a custom domain, use that instead of the R2.dev subdomain
